{"version":3,"file":"pfe-accordion.umd.js","sources":["pfe-accordion.js"],"sourcesContent":["import PFElement from '../pfelement/pfelement.js';\n\n/*!\n * PatternFly Elements: PfeAccordion 1.0.0\n * @license\n * Copyright 2019 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\n// https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\nif (!Array.prototype.findIndex) {\n  Object.defineProperty(Array.prototype, \"findIndex\", {\n    value: function(predicate) {\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      var o = Object(this);\n\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\n      var len = o.length >>> 0;\n\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n      if (typeof predicate !== \"function\") {\n        throw new TypeError(\"predicate must be a function\");\n      }\n\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n      var thisArg = arguments[1];\n\n      // 5. Let k be 0.\n      var k = 0;\n\n      // 6. Repeat, while k < len\n      while (k < len) {\n        // a. Let Pk be ! ToString(k).\n        // b. Let kValue be ? Get(O, Pk).\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n        // d. If testResult is true, return k.\n        var kValue = o[k];\n        if (predicate.call(thisArg, kValue, k, o)) {\n          return k;\n        }\n        // e. Increase k by 1.\n        k++;\n      }\n\n      // 7. Return -1.\n      return -1;\n    }\n  });\n}\n\nfunction generateId() {\n  return Math.random()\n    .toString(36)\n    .substr(2, 9);\n}\n\nclass PfeAccordion extends PFElement {\n  static get version() {\n    return \"1.0.0\";\n  }\n\n  get html() {\n    return `<style>:host{display:block;position:relative;overflow:hidden;margin:0;color:var(--pfe-broadcasted--color--text)}:host([on=dark]){--pfe-broadcasted--color--text:var(--pfe-theme--color--text--on-dark, #fff);--pfe-broadcasted--color--ui-link:var(--pfe-theme--color--ui-link--on-dark, #99ccff);--pfe-broadcasted--color--ui-link--visited:var(--pfe-theme--color--ui-link--on-dark--visited, #b38cd9);--pfe-broadcasted--color--ui-link--hover:var(--pfe-theme--color--ui-link--on-dark--hover, #cce6ff);--pfe-broadcasted--color--ui-link--focus:var(--pfe-theme--color--ui-link--on-dark--focus, #cce6ff)}:host([on=light]){--pfe-broadcasted--color--text:var(--pfe-theme--color--text, #333);--pfe-broadcasted--color--ui-link:var(--pfe-theme--color--ui-link, #06c);--pfe-broadcasted--color--ui-link--visited:var(--pfe-theme--color--ui-link--visited, rebeccapurple);--pfe-broadcasted--color--ui-link--hover:var(--pfe-theme--color--ui-link--hover, #003366);--pfe-broadcasted--color--ui-link--focus:var(--pfe-theme--color--ui-link--focus, #003366)}</style><slot></slot>`;\n  }\n\n  static get properties() {\n    return {\"on\":{\"title\":\"Context\",\"type\":\"string\",\"enum\":[\"light\",\"dark\"],\"default\":\"light\",\"prefixed\":false}};\n  }\n\n  static get slots() {\n    return {\"default\":{\"title\":\"Default\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"pfe-accordion-header\"},{\"$ref\":\"pfe-accordion-panel\"}]}}};\n  }\n  static get tag() {\n    return \"pfe-accordion\";\n  }\n\n  get styleUrl() {\n    return \"pfe-accordion.scss\";\n  }\n\n  get templateUrl() {\n    return \"pfe-accordion.html\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-accordion.json\";\n  }\n\n  static get observedAttributes() {\n    return [\"on\"];\n  }\n\n  static get cascadingAttributes() {\n    return {\n      on: \"pfe-accordion-header, pfe-accordion-panel\"\n    };\n  }\n\n  // Declare the type of this component\n  static get PfeType() {\n    return PFElement.PfeTypes.Container;\n  }\n\n  constructor() {\n    super(PfeAccordion, { type: PfeAccordion.PfeType });\n\n    this._linkPanels = this._linkPanels.bind(this);\n    this._observer = new MutationObserver(this._linkPanels);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.setAttribute(\"role\", \"presentation\");\n    this.setAttribute(\"defined\", \"\");\n\n    this.addEventListener(`${PfeAccordion.tag}:change`, this._changeHandler);\n    this.addEventListener(\"keydown\", this._keydownHandler);\n\n    Promise.all([\n      customElements.whenDefined(PfeAccordionHeader.tag),\n      customElements.whenDefined(PfeAccordionPanel.tag)\n    ]).then(() => {\n      if (this.children.length) {\n        this._linkPanels();\n      }\n\n      this._observer.observe(this, { childList: true });\n    });\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener(`${PfeAccordion.tag}:change`, this._changeHandler);\n    this.removeEventListener(\"keydown\", this._keydownHandler);\n    this._observer.disconnect();\n  }\n\n  attributeChangedCallback(attr, oldVal, newVal) {\n    super.attributeChangedCallback(attr, oldVal, newVal);\n  }\n\n  toggle(index) {\n    const headers = this._allHeaders();\n    const panels = this._allPanels();\n    const header = headers[index];\n    const panel = panels[index];\n\n    if (!header || !panel) {\n      return;\n    }\n\n    if (!header.expanded) {\n      this._expandHeader(header);\n      this._expandPanel(panel);\n    } else {\n      this._collapseHeader(header);\n      this._collapsePanel(panel);\n    }\n  }\n\n  expand(index) {\n    const headers = this._allHeaders();\n    const panels = this._allPanels();\n    const header = headers[index];\n    const panel = panels[index];\n\n    if (!header || !panel) {\n      return;\n    }\n\n    this._expandHeader(header);\n    this._expandPanel(panel);\n  }\n\n  expandAll() {\n    const headers = this._allHeaders();\n    const panels = this._allPanels();\n\n    headers.forEach(header => this._expandHeader(header));\n    panels.forEach(panel => this._expandPanel(panel));\n  }\n\n  collapse(index) {\n    const headers = this._allHeaders();\n    const panels = this._allPanels();\n    const header = headers[index];\n    const panel = panels[index];\n\n    if (!header || !panel) {\n      return;\n    }\n\n    this._collapseHeader(header);\n    this._collapsePanel(panel);\n  }\n\n  collapseAll() {\n    const headers = this._allHeaders();\n    const panels = this._allPanels();\n\n    headers.forEach(header => this._collapseHeader(header));\n    panels.forEach(panel => this._collapsePanel(panel));\n  }\n\n  _linkPanels() {\n    const headers = this._allHeaders();\n    headers.forEach(header => {\n      const panel = this._panelForHeader(header);\n\n      if (!panel) {\n        return;\n      }\n\n      header.setAttribute(\"aria-controls\", panel.pfeId);\n      panel.setAttribute(\"aria-labelledby\", header.pfeId);\n    });\n  }\n\n  _changeHandler(evt) {\n    if (this.classList.contains(\"animating\")) {\n      return;\n    }\n\n    const header = evt.target;\n    const panel = evt.target.nextElementSibling;\n\n    if (evt.detail.expanded) {\n      this._expandHeader(header);\n      this._expandPanel(panel);\n    } else {\n      this._collapseHeader(header);\n      this._collapsePanel(panel);\n    }\n  }\n\n  _toggle(header, panel) {}\n\n  _expandHeader(header) {\n    header.expanded = true;\n  }\n\n  _expandPanel(panel) {\n    if (!panel) {\n      console.error(`${PfeAccordion.tag}: Trying to expand a panel that doesn't exist`);\n      return;\n    }\n\n    if (panel.expanded) {\n      return;\n    }\n\n    panel.expanded = true;\n\n    const height = panel.getBoundingClientRect().height;\n    this._animate(panel, 0, height);\n  }\n\n  _collapseHeader(header) {\n    header.expanded = false;\n  }\n\n  _collapsePanel(panel) {\n    if (!panel) {\n      console.error(`${PfeAccordion.tag}: Trying to collapse a panel that doesn't exist`);\n      return;\n    }\n\n    if (!panel.expanded) {\n      return;\n    }\n\n    const height = panel.getBoundingClientRect().height;\n    panel.expanded = false;\n\n    this._animate(panel, height, 0);\n  }\n\n  _animate(panel, start, end) {\n    const header = panel.previousElementSibling;\n    panel.classList.add(\"animating\");\n    header.classList.add(\"animating\");\n    panel.style.height = `${start}px`;\n\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        panel.style.height = `${end}px`;\n        panel.addEventListener(\"transitionend\", this._transitionEndHandler);\n      });\n    });\n  }\n\n  _keydownHandler(evt) {\n    const currentHeader = evt.target;\n\n    if (!this._isHeader(currentHeader)) {\n      return;\n    }\n\n    let newHeader;\n\n    switch (evt.key) {\n      case \"ArrowDown\":\n      case \"Down\":\n      case \"ArrowRight\":\n      case \"Right\":\n        newHeader = this._nextHeader();\n        break;\n      case \"ArrowUp\":\n      case \"Up\":\n      case \"ArrowLeft\":\n      case \"Left\":\n        newHeader = this._previousHeader();\n        break;\n      case \"Home\":\n        newHeader = this._firstHeader();\n        break;\n      case \"End\":\n        newHeader = this._lastHeader();\n        break;\n      default:\n        return;\n    }\n\n    newHeader.shadowRoot.querySelector(\"button\").focus();\n  }\n\n  _transitionEndHandler(evt) {\n    const header = evt.target.previousElementSibling;\n    header.classList.remove(\"animating\");\n    evt.target.style.height = \"\";\n    evt.target.classList.remove(\"animating\");\n    evt.target.removeEventListener(\"transitionend\", this._transitionEndHandler);\n  }\n\n  _allHeaders() {\n    return [...this.querySelectorAll(PfeAccordionHeader.tag)];\n  }\n\n  _allPanels() {\n    return [...this.querySelectorAll(PfeAccordionPanel.tag)];\n  }\n\n  _panelForHeader(header) {\n    const next = header.nextElementSibling;\n\n    if (!next) {\n      return;\n    }\n\n    if (next.tagName.toLowerCase() !== PfeAccordionPanel.tag) {\n      console.error(\n        `${PfeAccordion.tag}: Sibling element to a header needs to be a panel`\n      );\n      return;\n    }\n\n    return next;\n  }\n\n  _previousHeader() {\n    const headers = this._allHeaders();\n    let newIndex =\n      headers.findIndex(header => header === document.activeElement) - 1;\n    return headers[(newIndex + headers.length) % headers.length];\n  }\n\n  _nextHeader() {\n    const headers = this._allHeaders();\n    let newIndex =\n      headers.findIndex(header => header === document.activeElement) + 1;\n    return headers[newIndex % headers.length];\n  }\n\n  _firstHeader() {\n    const headers = this._allHeaders();\n    return headers[0];\n  }\n\n  _lastHeader() {\n    const headers = this._allHeaders();\n    return headers[headers.length - 1];\n  }\n\n  _isHeader(element) {\n    return element.tagName.toLowerCase() === PfeAccordionHeader.tag;\n  }\n}\n\nclass PfeAccordionHeader extends PFElement {\n  static get version() {\n    return \"1.0.0\";\n  }\n\n  get html() {\n    return `<style>:host{display:block}:host>*{margin:0}:host button{--pfe-accordion--main:transparent;--pfe-accordion--aux:var(--pfe-theme--color--surface--lightest--text, #333);--pfe-accordion--BorderLeft:var(--pfe-theme--surface--border-width--heavy, 3px) var(--pfe-theme--surface--border-style, solid) transparent;--pfe-accordion--BorderRight:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) transparent;--pfe-accordion--BorderBottom:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--border, #dfdfdf);--pfe-accordion--BorderLeftColor--focus:var(--pfe-theme--color--surface--lightest--link, #06c);-webkit-appearance:button;margin:0;width:100%;height:auto;font-family:inherit;font-weight:700;font-weight:var(--pfe-theme--font-weight--bold,700);text-align:left;cursor:pointer;z-index:1;position:relative;font-size:calc(16px * 1.1);font-size:calc(var(--pfe-theme--font-size,16px) * 1.1);line-height:1.5;line-height:var(--pfe-theme--line-height,1.5);color:var(--pfe-accordion--aux);background-color:var(--pfe-accordion--main);border-left:var(--pfe-accordion--BorderLeft);border-right:var(--pfe-accordion--BorderRight);border-bottom:var(--pfe-accordion--BorderBottom);border-top:0;padding:1rem 50px 1rem calc(1rem * 1.5);padding:var(--pfe-theme--container-spacer,1rem) 50px var(--pfe-theme--container-spacer,1rem) calc(var(--pfe-theme--container-spacer,1rem) * 1.5)}:host button:hover{outline:0;border-left-color:var(--pfe-accordion--BorderLeftColor--focus);z-index:2}:host button:focus{outline:0;z-index:2;text-decoration:underline;-webkit-text-decoration-color:#c6c6c6;text-decoration-color:#c6c6c6;-webkit-text-decoration-color:var(--pfe-theme--color--surface--border--darker,#c6c6c6);text-decoration-color:var(--pfe-theme--color--surface--border--darker,#c6c6c6)}:host button::-moz-focus-inner{border:0}:host button[aria-expanded=true]{--pfe-accordion--main:var(--pfe-theme--color--surface--lightest, #fff);--pfe-accordion--aux:var(--pfe-theme--color--surface--lightest--text, #333);--pfe-accordion--focus:var(--pfe-theme--color--surface--lightest--link, #06c);--pfe-accordion--BorderLeft:var(--pfe-theme--surface--border-width--heavy, 3px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--lightest--link, #06c);--pfe-accordion--BorderRight:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--border, #dfdfdf);position:relative;display:block;border-bottom:0}:host button[aria-expanded=true]::after{content:\"\";position:absolute;top:calc((1rem * .75) + .55em);top:calc((var(--pfe-theme--container-spacer,1rem) * .75) + .55em);display:block;border-style:solid;border-style:var(--pfe-theme--surface--border-style,solid);height:.4em;width:.4em;text-align:center;-webkit-transition:-webkit-transform .15s;transition:-webkit-transform .15s;transition:transform .15s;transition:transform .15s,-webkit-transform .15s;border-width:.1em .1em 0 0;border-bottom:0;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:calc(1rem * 1.5);right:calc(var(--pfe-theme--container-spacer,1rem) * 1.5)}:host button[aria-expanded=false]::after{content:\"\";position:absolute;top:calc((1rem * .75) + .55em);top:calc((var(--pfe-theme--container-spacer,1rem) * .75) + .55em);display:block;border-style:solid;border-style:var(--pfe-theme--surface--border-style,solid);height:.4em;width:.4em;text-align:center;-webkit-transition:-webkit-transform .15s;transition:-webkit-transform .15s;transition:transform .15s;transition:transform .15s,-webkit-transform .15s;border-width:0 .1em .1em 0;-webkit-transform:rotate(45deg);transform:rotate(45deg);right:calc(1rem * 1.5);right:calc(var(--pfe-theme--container-spacer,1rem) * 1.5)}:host(:first-child) button{border-top:1px solid #dfdfdf;border-top:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--surface--border,#dfdfdf)}:host(:last-of-type) button[aria-expanded=false]{border-bottom:1px solid #dfdfdf;border-bottom:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--surface--border,#dfdfdf)}:host(.animating){-webkit-transition:-webkit-transform .3s cubic-bezier(.465,.183,.153,.946);transition:-webkit-transform .3s cubic-bezier(.465,.183,.153,.946);transition:transform .3s cubic-bezier(.465,.183,.153,.946);transition:transform .3s cubic-bezier(.465,.183,.153,.946),-webkit-transform .3s cubic-bezier(.465,.183,.153,.946);-webkit-transition:-webkit-transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:-webkit-transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946)),-webkit-transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946))}:host(.animating) button{position:relative;display:block;border-bottom:0;--pfe-accordion--main:var(--pfe-theme--color--surface--lightest, #fff);--pfe-accordion--aux:var(--pfe-theme--color--surface--lightest--text, #333);--pfe-accordion--focus:var(--pfe-theme--color--surface--lightest--link, #06c);--pfe-accordion--BorderLeft:var(--pfe-theme--surface--border-width--heavy, 3px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--lightest--link, #06c);--pfe-accordion--BorderRight:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--border, #dfdfdf)}:host([on=dark]) button{--pfe-accordion--main:transparent;--pfe-accordion--aux:var(--pfe-theme--color--surface--darkest--text, #fff);--pfe-accordion--BorderLeftColor--focus:var(--pfe-theme--color--surface--lightest, #fff)}:host([on=dark]) button[aria-expanded=true]{--pfe-accordion--main:var(--pfe-theme--color--surface--darker, #464646);--pfe-accordion--aux:var(--pfe-theme--color--surface--darkest--text, #fff);--pfe-accordion--BorderLeft:var(--pfe-theme--surface--border-width--heavy, 3px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--border-darkest);--pfe-accordion--BorderRight:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--border-darkest);--pfe-accordion--BorderLeftColor--focus:var(--pfe-theme--color--surface--lightest, #fff)}:host([on=dark].animating) button{--pfe-accordion--main:var(--pfe-theme--color--surface--darker, #464646);--pfe-accordion--aux:var(--pfe-theme--color--surface--darkest--text, #fff);--pfe-accordion--BorderLeft:var(--pfe-theme--surface--border-width--heavy, 3px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--border-darkest);--pfe-accordion--BorderRight:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--border-darkest);--pfe-accordion--BorderLeftColor--focus:var(--pfe-theme--color--surface--lightest, #fff)}</style><button type=\"button\" aria-expanded=\"false\" role=\"tab\"></button>`;\n  }\n  static get tag() {\n    return \"pfe-accordion-header\";\n  }\n\n  get styleUrl() {\n    return \"pfe-accordion-header.scss\";\n  }\n\n  get templateUrl() {\n    return \"pfe-accordion-header.html\";\n  }\n\n  get pfeId() {\n    return this.getAttribute(\"pfe-id\");\n  }\n\n  set pfeId(id) {\n    if (!id) {\n      return;\n    }\n\n    this.setAttribute(\"pfe-id\", id);\n  }\n\n  static get observedAttributes() {\n    return [\"aria-expanded\"];\n  }\n\n  constructor() {\n    super(PfeAccordionHeader);\n\n    this.button = this.shadowRoot.querySelector(\"button\");\n\n    this._init = this._init.bind(this);\n    this._clickHandler = this._clickHandler.bind(this);\n    this._observer = new MutationObserver(this._init);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (this.children.length || this.textContent.trim().length) {\n      this._init();\n    }\n\n    this.addEventListener(\"click\", this._clickHandler);\n    this._observer.observe(this, { childList: true });\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener(\"click\", this._clickHandler);\n    this._observer.disconnect();\n  }\n\n  get expanded() {\n    return this.hasAttribute(\"aria-expanded\");\n  }\n\n  set expanded(val) {\n    val = Boolean(val);\n\n    if (val) {\n      this.setAttribute(\"aria-expanded\", true);\n      this.button.setAttribute(\"aria-expanded\", true);\n    } else {\n      this.removeAttribute(\"aria-expanded\");\n      this.button.setAttribute(\"aria-expanded\", false);\n    }\n  }\n\n  _init() {\n    if (window.ShadyCSS) {\n      this._observer.disconnect();\n    }\n\n    if (!this.hasAttribute(\"role\")) {\n      this.setAttribute(\"role\", \"header\");\n    }\n\n    if (!this.pfeId) {\n      this.pfeId = `${PfeAccordionHeader.tag}-${generateId()}`;\n    }\n\n    const child = this.children[0];\n    let isHeaderTag = false;\n\n    if (child) {\n      switch (child.tagName) {\n        case \"H1\":\n        case \"H2\":\n        case \"H3\":\n        case \"H4\":\n        case \"H5\":\n        case \"H6\":\n          isHeaderTag = true;\n          break;\n      }\n\n      const wrapperTag = document.createElement(child.tagName);\n      this.button.innerText = child.innerText;\n\n      wrapperTag.appendChild(this.button);\n      this.shadowRoot.appendChild(wrapperTag);\n    } else {\n      this.button.innerText = this.textContent.trim();\n    }\n\n    if (!isHeaderTag) {\n      console.warn(\n        `${\n          PfeAccordionHeader.tag\n        }: The first child in the light DOM must be a Header level tag (h1, h2, h3, h4, h5, or h6)`\n      );\n    }\n\n    if (window.ShadyCSS) {\n      this._observer.observe(this, { childList: true });\n    }\n  }\n\n  _clickHandler(event) {\n    this.dispatchEvent(\n      new CustomEvent(`${PfeAccordion.tag}:change`, {\n        detail: { expanded: !this.expanded },\n        bubbles: true\n      })\n    );\n  }\n}\n\nclass PfeAccordionPanel extends PFElement {\n  static get version() {\n    return \"1.0.0\";\n  }\n\n  get html() {\n    return `<style>:host{display:none;overflow:hidden;will-change:height;border-color:transparent}:host(.animating),:host([expanded]){display:block;position:relative;border-right:1px solid transparent;border-right:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) transparent;border-left:3px solid transparent;border-left:var(--pfe-theme--surface--border-width--heavy,3px) var(--pfe-theme--surface--border-style,solid) transparent;-webkit-box-shadow:0 5px 3px rgba(140,140,140,.35);box-shadow:0 5px 3px rgba(140,140,140,.35);-webkit-box-shadow:0 5px var(--pfe-theme--surface--border-width--heavy,3px) rgba(140,140,140,.35);box-shadow:0 5px var(--pfe-theme--surface--border-width--heavy,3px) rgba(140,140,140,.35);border-left-color:#06c;border-left-color:var(--pfe-theme--color--surface--lightest--link,#06c);background-color:#fff;background-color:var(--pfe-theme--color--surface--lightest,#fff);border-right-color:#dfdfdf;border-right-color:var(--pfe-theme--color--surface--border,#dfdfdf);border-bottom:1px solid #dfdfdf;border-bottom:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--surface--border,#dfdfdf)}:host([on=dark].animating),:host([on=dark][expanded]){--pfe-broadcasted--color--text:var(--pfe-theme--color--text--on-dark, #fff);--pfe-broadcasted--color--ui-link:var(--pfe-theme--color--ui-link--on-dark, #99ccff);--pfe-broadcasted--color--ui-link--visited:var(--pfe-theme--color--ui-link--on-dark--visited, #b38cd9);--pfe-broadcasted--color--ui-link--hover:var(--pfe-theme--color--ui-link--on-dark--hover, #cce6ff);--pfe-broadcasted--color--ui-link--focus:var(--pfe-theme--color--ui-link--on-dark--focus, #cce6ff);border-right:1px solid transparent;border-right:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) transparent;border-left:3px solid transparent;border-left:var(--pfe-theme--surface--border-width--heavy,3px) var(--pfe-theme--surface--border-style,solid) transparent;-webkit-box-shadow:none;box-shadow:none;background-color:#464646;background-color:var(--pfe-theme--color--surface--darker,#464646);border-left-color:#fff;border-left-color:var(--pfe-theme--color--surface--darkest--text,#fff);border-right-color:#fff;border-right-color:var(--pfe-theme--color--surface--darkest--text,#fff)}:host(.animating){display:block;-webkit-transition:height .3s ease-in-out;transition:height .3s ease-in-out}.container{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;padding:0 3em 1rem calc(1rem * 1.5);padding:0 3em var(--pfe-theme--container-spacer,1rem) calc(var(--pfe-theme--container-spacer,1rem) * 1.5)}:host(:last-of-type[expanded]){margin-bottom:0}</style><div tabindex=\"-1\" role=\"tabpanel\">\n  <div class=\"container\">\n    <slot></slot>\n  </div>\n</div>`;\n  }\n  static get tag() {\n    return \"pfe-accordion-panel\";\n  }\n\n  get styleUrl() {\n    return \"pfe-accordion-panel.scss\";\n  }\n\n  get templateUrl() {\n    return \"pfe-accordion-panel.html\";\n  }\n\n  get pfeId() {\n    return this.getAttribute(\"pfe-id\");\n  }\n\n  set pfeId(id) {\n    if (!id) {\n      return;\n    }\n\n    this.setAttribute(\"pfe-id\", id);\n  }\n\n  constructor() {\n    super(PfeAccordionPanel);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (!this.hasAttribute(\"role\")) {\n      this.setAttribute(\"role\", \"region\");\n    }\n\n    if (!this.pfeId) {\n      this.pfeId = `${PfeAccordionPanel.tag}-${generateId()}`;\n    }\n  }\n\n  get expanded() {\n    return this.hasAttribute(\"expanded\");\n  }\n\n  set expanded(val) {\n    const value = Boolean(val);\n\n    if (value) {\n      this.setAttribute(\"expanded\", \"\");\n    } else {\n      this.removeAttribute(\"expanded\");\n    }\n  }\n}\n\nPFElement.create(PfeAccordionHeader);\nPFElement.create(PfeAccordionPanel);\nPFElement.create(PfeAccordion);\n\nexport default PfeAccordion;\n//# sourceMappingURL=pfe-accordion.js.map\n"],"names":["Array","prototype","findIndex","Object","defineProperty","value","predicate","TypeError","o","len","length","thisArg","arguments","k","kValue","call","generateId","Math","random","toString","substr","PfeAccordion","on","PFElement","PfeTypes","Container","type","PfeType","_linkPanels","bind","_observer","MutationObserver","setAttribute","addEventListener","tag","_changeHandler","_keydownHandler","Promise","all","customElements","whenDefined","PfeAccordionHeader","PfeAccordionPanel","then","children","observe","childList","removeEventListener","disconnect","attr","oldVal","newVal","index","headers","_allHeaders","panels","_allPanels","header","panel","expanded","_expandHeader","_expandPanel","_collapseHeader","_collapsePanel","forEach","_panelForHeader","pfeId","evt","classList","contains","target","nextElementSibling","detail","console","error","height","getBoundingClientRect","_animate","start","end","previousElementSibling","add","style","requestAnimationFrame","_transitionEndHandler","currentHeader","_isHeader","newHeader","key","_nextHeader","_previousHeader","_firstHeader","_lastHeader","shadowRoot","querySelector","focus","remove","querySelectorAll","next","tagName","toLowerCase","newIndex","document","activeElement","element","getAttribute","id","button","_init","_clickHandler","textContent","trim","window","ShadyCSS","hasAttribute","child","isHeaderTag","wrapperTag","createElement","innerText","appendChild","warn","event","dispatchEvent","CustomEvent","bubbles","val","Boolean","removeAttribute","create"],"mappings":"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"}