{"version":3,"file":"pfe-collapse.umd.js","sources":["pfe-collapse.js"],"sourcesContent":["import PFElement from '../pfelement/pfelement.js';\n\n/*!\n * PatternFly Elements: PfeCollapse 1.0.0-prerelease.25\n * @license\n * Copyright 2019 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nfunction generateId() {\n  return Math.random()\n    .toString(36)\n    .substr(2, 9);\n}\n\nclass PfeCollapseToggle extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.25\";\n  }\n\n  get html() {\n    return `<style>:host{display:block;cursor:default}</style><slot></slot>`;\n  }\n\n  static get properties() {\n    return {};\n  }\n\n  static get slots() {\n    return {\"default\":{\"title\":\"Default\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"pfe-collapsibe-toggle\"},{\"$ref\":\"pfe-collapse-panel\"}]}}};\n  }\n  static get tag() {\n    return \"pfe-collapse-toggle\";\n  }\n\n  get templateUrl() {\n    return \"pfe-collapse-toggle.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-collapse-toggle.scss\";\n  }\n\n  get pfeId() {\n    return this.getAttribute(\"pfe-id\");\n  }\n\n  set pfeId(id) {\n    if (!id) {\n      return;\n    }\n\n    this.setAttribute(\"pfe-id\", id);\n  }\n\n  get expanded() {\n    return this.getAttribute(\"aria-expanded\") === \"true\";\n  }\n\n  set expanded(val) {\n    const value = Boolean(val);\n    this.setAttribute(\"aria-expanded\", value);\n  }\n\n  static get observedAttributes() {\n    return [\"aria-controls\"];\n  }\n\n  constructor(pfeClass, { setTabIndex = true, addKeydownHandler = true } = {}) {\n    super(pfeClass || PfeCollapseToggle);\n\n    this.controlledPanel = false;\n    this._setTabIndex = setTabIndex;\n    this._addKeydownHandler = addKeydownHandler;\n\n    this.addEventListener(\"click\", this._clickHandler);\n\n    if (addKeydownHandler) {\n      this.addEventListener(\"keydown\", this._keydownHandler);\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.expanded = false;\n\n    // if (this.id && this.id !== \"\") {\n    if (this.id) {\n      this.pfeId = this.id;\n    }\n\n    const generatedId = `${PfeCollapseToggle.tag}-${generateId()}`;\n\n    if (!this.id) {\n      this.id = generatedId;\n    }\n\n    if (!this.pfeId) {\n      this.pfeId = generatedId;\n    }\n\n    this.setAttribute(\"role\", \"button\");\n\n    if (this._setTabIndex) {\n      this.setAttribute(\"tabindex\", 0);\n    }\n\n    if (!this.controlledPanel) {\n      this._connectPanel(this.getAttribute(\"aria-controls\"));\n    }\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener(\"click\", this._clickHandler);\n\n    if (this._addKeydownHandler) {\n      this.removeEventListener(\"keydown\", this._keydownHandler);\n    }\n  }\n\n  attributeChangedCallback(attr, oldVal, newVal) {\n    super.attributeChangedCallback(attr, oldVal, newVal);\n\n    if (!newVal) {\n      return;\n    }\n\n    this._connectPanel(newVal);\n  }\n\n  toggle() {\n    if (this.hasAttribute(\"disabled\")) {\n      return;\n    }\n\n    this.expanded = !this.expanded;\n\n    // one last try to hook up a panel\n    if (!this.controlledPanel) {\n      this._connectPanel(this.getAttribute(\"aria-controls\"));\n    }\n\n    if (this.controlledPanel) {\n      this.controlledPanel.expanded = this.expanded;\n\n      this.dispatchEvent(\n        new CustomEvent(`${PfeCollapse.tag}:change`, {\n          detail: {\n            expanded: this.expanded,\n            toggle: this,\n            panel: this.controlledPanel\n          },\n          bubbles: true\n        })\n      );\n    } else {\n      console.warn(\n        `${this.tag}: This toggle doesn't have a panel associated with it`\n      );\n    }\n  }\n\n  _clickHandler() {\n    this.toggle();\n  }\n\n  _keydownHandler(event) {\n    const key = event.key;\n\n    switch (key) {\n      case \" \":\n      case \"Spacebar\":\n      case \"Enter\":\n        this.toggle();\n        break;\n    }\n  }\n\n  _connectPanel(id) {\n    // this can be an issue if the pfe-collapse is located within\n    // a shadow root\n    if (this.getRootNode) {\n      this.controlledPanel = this.getRootNode().querySelector(`#${id}`);\n    } else {\n      this.controlledPanel = document.querySelector(`#${id}`);\n    }\n  }\n}\n\nclass PfeCollapsePanel extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.25\";\n  }\n\n  get html() {\n    return `<style>:host{display:none;overflow:hidden;will-change:height}:host([pfe-expanded]){display:block;position:relative}:host(.animating){display:block;-webkit-transition:height .3s ease-in-out;transition:height .3s ease-in-out}</style><slot></slot>`;\n  }\n\n  static get properties() {\n    return {};\n  }\n\n  static get slots() {\n    return {\"default\":{\"title\":\"Default\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"pfe-collapsibe-toggle\"},{\"$ref\":\"pfe-collapse-panel\"}]}}};\n  }\n  static get tag() {\n    return \"pfe-collapse-panel\";\n  }\n\n  get templateUrl() {\n    return \"pfe-collapse-panel.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-collapse-panel.scss\";\n  }\n\n  get pfeId() {\n    return this.getAttribute(\"pfe-id\");\n  }\n\n  set pfeId(id) {\n    if (!id) {\n      return;\n    }\n\n    this.setAttribute(\"pfe-id\", id);\n  }\n\n  get animates() {\n    return this.getAttribute(\"pfe-animation\") === \"false\" ? false : true;\n  }\n\n  get expanded() {\n    return this.hasAttribute(\"pfe-expanded\");\n  }\n\n  set expanded(val) {\n    const value = Boolean(val);\n\n    if (value) {\n      this.setAttribute(\"pfe-expanded\", \"\");\n\n      if (this.animates) {\n        const height = this.getBoundingClientRect().height;\n        this._fireAnimationEvent(\"opening\");\n        this._animate(0, height);\n      }\n    } else {\n      if (this.hasAttribute(\"pfe-expanded\")) {\n        const height = this.getBoundingClientRect().height;\n        this.removeAttribute(\"pfe-expanded\");\n\n        if (this.animates) {\n          this._fireAnimationEvent(\"closing\");\n          this._animate(height, 0);\n        }\n      }\n    }\n  }\n\n  constructor(pfeClass) {\n    super(pfeClass || PfeCollapsePanel);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.expanded = false;\n\n    // if (this.id && this.id !== \"\") {\n    if (this.id) {\n      this.pfeId = this.id;\n    }\n\n    const generatedId = `${PfeCollapsePanel.tag}-${generateId()}`;\n\n    if (!this.id) {\n      this.id = generatedId;\n    }\n\n    if (!this.pfeId) {\n      this.pfeId = generatedId;\n    }\n  }\n\n  _animate(start, end) {\n    this.classList.add(\"animating\");\n    this.style.height = `${start}px`;\n\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        this.style.height = `${end}px`;\n        this.classList.add(\"animating\");\n        this.addEventListener(\"transitionend\", this._transitionEndHandler);\n      });\n    });\n  }\n\n  _transitionEndHandler(event) {\n    event.target.style.height = \"\";\n    event.target.classList.remove(\"animating\");\n    event.target.removeEventListener(\n      \"transitionend\",\n      this._transitionEndHandler\n    );\n\n    this.dispatchEvent(\n      new CustomEvent(`${PfeCollapsePanel.tag}:animation-end`, {\n        detail: {\n          expanded: this.expanded,\n          panel: this\n        },\n        bubbles: true\n      })\n    );\n  }\n\n  _fireAnimationEvent(state) {\n    this.dispatchEvent(\n      new CustomEvent(`${PfeCollapsePanel.tag}:animation-start`, {\n        detail: {\n          state: state,\n          panel: this\n        },\n        bubbles: true\n      })\n    );\n  }\n}\n\nclass PfeCollapse extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.25\";\n  }\n\n  get html() {\n    return `<style>:host{display:block}:host([hidden]){display:none}:host(.animating),:host([expanded]){display:block}</style><slot></slot>`;\n  }\n\n  static get properties() {\n    return {};\n  }\n\n  static get slots() {\n    return {\"default\":{\"title\":\"Default\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"pfe-collapsibe-toggle\"},{\"$ref\":\"pfe-collapse-panel\"}]}}};\n  }\n  static get tag() {\n    return \"pfe-collapse\";\n  }\n\n  get templateUrl() {\n    return \"pfe-collapse.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-collapse.scss\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-collapse.json\";\n  }\n\n  get animates() {\n    return this.getAttribute(\"pfe-animation\") === \"false\" ? false : true;\n  }\n\n  static get observedAttributes() {\n    return [\"pfe-animation\"];\n  }\n\n  constructor(pfeClass) {\n    super(pfeClass || PfeCollapse);\n\n    this._toggle = null;\n    this._panel = null;\n    this._linkControls = this._linkControls.bind(this);\n    this._changeHandler = this._changeHandler.bind(this);\n    this._observer = new MutationObserver(this._linkControls);\n\n    this.addEventListener(`${PfeCollapse.tag}:change`, this._changeHandler);\n    this.addEventListener(`${PfeCollapsePanel.tag}:animation-start`, this._animationStartHandler);\n    this.addEventListener(`${PfeCollapsePanel.tag}:animation-end`, this._animationEndHandler);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    Promise.all([\n      customElements.whenDefined(PfeCollapsePanel.tag),\n      customElements.whenDefined(PfeCollapseToggle.tag)\n    ]).then(() => {\n      if (this.children.length) {\n        this._linkControls();\n      }\n\n      this._observer.observe(this, { childList: true });\n    });\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener(`${PfeCollapse.tag}:change`, this._changeHandler);\n    this.removeEventListener(`${PfeCollapsePanel.tag}:animation-start`, this._animationStartHandler);\n    this.removeEventListener(`${PfeCollapsePanel.tag}:animation-end`, this._animationEndHandler);\n    this._observer.disconnect();\n  }\n\n  attributeChangedCallback(attr, oldVal, newVal) {\n    super.attributeChangedCallback(attr, oldVal, newVal);\n\n    if (!newVal) {\n      return;\n    }\n\n    if (newVal !== \"false\" && newVal !== \"true\") {\n      return;\n    }\n\n    if (this._panel) {\n      this._panel.setAttribute(\"pfe-animation\", newVal);\n    }\n  }\n\n  toggle() {\n    this._toggle.toggle();\n  }\n\n  _linkControls() {\n    this._toggle = this.querySelector(PfeCollapseToggle.tag);\n    this._panel = this.querySelector(PfeCollapsePanel.tag);\n\n    this._toggle.setAttribute(\"aria-controls\", this._panel.pfeId);\n  }\n\n  _animationStartHandler() {\n    this.classList.add(\"animating\");\n  }\n\n  _animationEndHandler() {\n    this.classList.remove(\"animating\");\n  }\n\n  _changeHandler(event) {\n\n  }\n}\n\nPFElement.create(PfeCollapse);\nPFElement.create(PfeCollapseToggle);\nPFElement.create(PfeCollapsePanel);\n\nexport { PfeCollapse, PfeCollapseToggle, PfeCollapsePanel };\n//# sourceMappingURL=pfe-collapse.js.map\n"],"names":["generateId","Math","random","toString","substr","PfeCollapseToggle","getAttribute","id","setAttribute","val","value","Boolean","pfeClass","setTabIndex","addKeydownHandler","controlledPanel","_setTabIndex","_addKeydownHandler","addEventListener","_clickHandler","_keydownHandler","expanded","pfeId","generatedId","tag","_connectPanel","removeEventListener","attr","oldVal","newVal","hasAttribute","dispatchEvent","CustomEvent","PfeCollapse","detail","toggle","panel","bubbles","console","warn","event","key","getRootNode","querySelector","document","PFElement","PfeCollapsePanel","animates","height","getBoundingClientRect","_fireAnimationEvent","_animate","removeAttribute","start","end","classList","add","style","requestAnimationFrame","_transitionEndHandler","target","remove","state","_toggle","_panel","_linkControls","bind","_changeHandler","_observer","MutationObserver","_animationStartHandler","_animationEndHandler","Promise","all","customElements","whenDefined","then","children","length","observe","childList","disconnect","create"],"mappings":"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"}